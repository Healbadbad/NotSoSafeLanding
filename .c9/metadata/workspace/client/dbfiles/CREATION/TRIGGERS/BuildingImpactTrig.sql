{"changed":true,"filter":false,"title":"BuildingImpactTrig.sql","tooltip":"/client/dbfiles/CREATION/TRIGGERS/BuildingImpactTrig.sql","value":"use NotSoSafeLanding\n \n\nDelimiter //\nDROP TRIGGER IF EXISTS BuildingImpactIns;\nCreate trigger BuildingImpactInss\nAFTER INSERT ON  Building FOR EACH ROW\n  BEGIN\n  Set @randPolitical = FLOOR(RAND() * (9 - 3 + 1)) + 3;\n  Set @randInternational= FLOOR(RAND() * (8 - 1 + 1)) + 1;\n  Set @randMonetary = FLOOR(RAND() * (9 - 3 + 1)) + 3;\n  Set @randEmotional = FLOOR(RAND() * (10 - 1 + 1)) + 1;\n  Set @ID = New.IID;\n  Set @count1 = (Select Count(*) from Impact where Impact.IID = @ID);\n  if (@count1 = 0) THEN\n        Insert into Impact (Political, International, Monetary, Emotional, IID)\n        values (@randPolitical, @randInternational, @randMonetary, @randEmotional, @ID);\n  END IF;\n  END;//\n\n-- FLOOR(RAND() * (<max> - <min> + 1)) + <min>","undoManager":{"stack":[[{"start":{"row":8,"column":43},"end":{"row":8,"column":44},"action":"remove","lines":["7"],"id":1,"ignore":true},{"start":{"row":8,"column":43},"end":{"row":8,"column":44},"action":"insert","lines":["3"]},{"start":{"row":8,"column":53},"end":{"row":8,"column":54},"action":"remove","lines":["7"]},{"start":{"row":8,"column":53},"end":{"row":8,"column":54},"action":"insert","lines":["3"]},{"start":{"row":9,"column":46},"end":{"row":9,"column":47},"action":"remove","lines":["5"]},{"start":{"row":9,"column":46},"end":{"row":9,"column":47},"action":"insert","lines":["1"]}],[{"start":{"row":9,"column":56},"end":{"row":9,"column":57},"action":"remove","lines":["5"],"id":2,"ignore":true},{"start":{"row":9,"column":56},"end":{"row":9,"column":57},"action":"insert","lines":["1"]}],[{"start":{"row":10,"column":42},"end":{"row":10,"column":43},"action":"remove","lines":["8"],"id":3,"ignore":true},{"start":{"row":10,"column":42},"end":{"row":10,"column":43},"action":"insert","lines":["3"]},{"start":{"row":10,"column":52},"end":{"row":10,"column":53},"action":"remove","lines":["8"]},{"start":{"row":10,"column":52},"end":{"row":10,"column":53},"action":"insert","lines":["3"]}],[{"start":{"row":11,"column":44},"end":{"row":11,"column":45},"action":"remove","lines":["8"],"id":4,"ignore":true},{"start":{"row":11,"column":44},"end":{"row":11,"column":45},"action":"insert","lines":["1"]},{"start":{"row":11,"column":54},"end":{"row":11,"column":55},"action":"remove","lines":["8"]},{"start":{"row":11,"column":54},"end":{"row":11,"column":55},"action":"insert","lines":["1"]}],[{"start":{"row":5,"column":32},"end":{"row":5,"column":33},"action":"insert","lines":["s"],"id":5}]],"mark":3,"position":4},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":6,"column":38},"end":{"row":6,"column":38},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":51,"mode":"ace/mode/sql"}},"timestamp":1431975566000}